<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <script src="pako.min.js"></script>
    <script src="base64.js"></script>
    <script src="script.js"></script>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <h1>
        Factorio Make Everything Generator
    </h1>

    <h2>
        Instructions
    </h2>

    <p>
        copy this (cheat) command and execute it ingame:
        <pre>
            /c local recipes = ""
            for _, recipe in pairs(game.player.force.recipes) do
                local recipe_prototype = recipe.prototype
                local recipe = "-----\n"
                    .. "name: " .. recipe_prototype.name .. "\n"
                    .. "enabled: " .. tostring(recipe.enabled) .. "\n"
                    .. "hidden: " .. tostring(recipe.hidden) .. "\n"
                    .. "unlock_results: " .. tostring(recipe_prototype.unlock_results) .. "\n"
                    .. "category: " .. recipe_prototype.category .. "\n"
                    .. "order: " .. recipe_prototype.order .. "\n"
                    .. "energy: " .. recipe_prototype.energy .. "\n"
                    .. "group_name: " .. recipe_prototype.group.name .. "\n"
                    .. "group_order: " .. recipe_prototype.group.order .. "\n"
                    .. "subgroup_name: " .. recipe_prototype.subgroup.name .. "\n"
                    .. "subgroup_order: " .. recipe_prototype.subgroup.order .. "\n"
                    .. "request_paste_multiplier: " .. recipe_prototype.request_paste_multiplier .. "\n"
                if recipe_prototype.main_product then
                    recipe = recipe
                        .. "main_product: " .. recipe_prototype.main_product.name .. "\n"
                    if game.item_prototypes[recipe_prototype.main_product.name] then
                        recipe = recipe
                            .. "main_product_stack_size: " .. game.item_prototypes[recipe_prototype.main_product.name].stack_size .. "\n"
                    end
                end
                    
                for _, ing in pairs(recipe_prototype.ingredients) do
                    if game.item_prototypes[ing.name] then
                        recipe = recipe .. "item_ingredient_name: " .. ing.amount .. " " .. ing.name .. "\n"
                    end
                end
                recipes = recipes .. "\n" .. recipe
            end
            game.write_file("recipes_dump.txt", recipes)
        </pre>
    </p>
    <textarea id="input"></textarea>
    <input type="button" onclick="processInput()" value="import" />

    <div id="dynamic-filters"></div>

    <table id="table"></table>

    machine to use: <input id="machine" type="text" value="assembling-machine-3" /><br/>
    machine width: <input id="machine-width" type="number" value="3" /><br/>
    machine height: <input id="machine-height" type="number" value="3" /><br/>
    machine speed: <input id="machine-speed" type="number" value="1.25" /><br/>

    max machines per row: <input id="row-length" type="number" value="4" /><br/>

    space between two machines: <input id="machine-space" type="number" value="0" /><br/>
    space between two rows: <input id="row-space" type="number" value="0" /><br/>

    source chest to use: <input id="source-chest" type="text" value="logistic-chest-requester" /><br/>
    request from buffer chests: <input id="request-from-buffers" type="checkbox" checked /><br/>
    width: <input id="source-chest-width" type="number" value="1" /><br/>
    height: <input id="source-chest-height" type="number" value="1" /><br/>

    target chest to use: <input id="target-chest" type="text" value="logistic-chest-buffer" /><br/>
    request product into target chest: <input id="target-chest-set-request" type="checkbox" checked /><br/>
    width: <input id="target-chest-width" type="number" value="1" /><br/>
    height: <input id="target-chest-height" type="number" value="1" /><br/>

    inserter to use: <input id="inserter" type="text" value="stack-inserter" /><br/>
    outserter to use: <input id="outserter" type="text" value="stack-inserter" /><br/>

    <br/>
    <input type="button" onclick="generateOutput()" value="export" /><br/>
    <textarea id="output"></textarea>
    <textarea id="output-bpstring"></textarea>

</body>